<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Elon: Hustle King</title>
    <style>
        body {
            font-family: 'Courier New', monospace;
            background: #1a1a1a;
            color: #00ff00;
            margin: 20px;
            text-align: center;
        }
        #game-container {
            max-width: 800px;
            margin: 0 auto;
            background: #222;
            padding: 20px;
            border: 2px solid #ff4500;
        }
        #stats, #market, #event-log {
            margin: 10px 0;
            text-align: left;
        }
        #event-log {
            color: #ff69b4;
            height: 100px;
            overflow-y: auto;
            border: 1px solid #555;
            padding: 5px;
        }
        button {
            background: #ff4500;
            color: white;
            border: none;
            padding: 8px 16px;
            margin: 5px;
            cursor: pointer;
            font-family: 'Courier New', monospace;
        }
        button:hover {
            background: #ff6347;
        }
        select, input {
            background: #333;
            color: #00ff00;
            border: 1px solid #ff4500;
            padding: 5px;
            margin: 5px;
        }
    </style>
</head>
<body>
    <div id="game-container">
        <h1>Elon: Hustle King</h1>
        <p>Turn $1M into $100B in 30 days! 🚀</p>
        <div id="stats"></div>
        <div id="market"></div>
        <div id="event-log"></div>
        <div>
            <button onclick="buySell('buy')">Buy</button>
            <button onclick="buySell('sell')">Sell</button>
            <button onclick="tweet()">Tweet</button>
            <button onclick="travel()">Travel</button>
            <button onclick="loan()">Loan</button>
            <button onclick="nextDay()">Next Day</button>
        </div>
    </div>

    <script>
        // Game state
        let cash = 1000000;
        let debt = 0;
        let reputation = 100;
        let day = 1;
        const maxDays = 30;
        let inventory = { "Tesla Stock": 0, "Dogecoin": 0, "Flamethrowers": 0, "Neuralink Chips": 0, "Mars Contracts": 0 };
        let location = "Fremont";
        let achievements = [];
        let tweetEffect = null;

        const basePrices = {
            "Tesla Stock": 150,
            "Dogecoin": 0.05,
            "Flamethrowers": 500,
            "Neuralink Chips": 10000,
            "Mars Contracts": 5000000
        };

        const locations = {
            "Fremont": "Tesla 🚗",
            "Cape Canaveral": "SpaceX 🚀",
            "Twitter HQ": "Tweets 🐦"
        };

        const events = [
            ["SEC fines $20M! 📉", () => -20000000, "cash"],
            ["Rogan weed sesh! Doge +300%! 🌿", () => ["Dogecoin", 3.0], "market"],
            ["Grimes wants $10M! 👶", () => -10000000, "cash"],
            ["Tesla bots dance. Stock -30%! 🤖", () => ["Tesla Stock", 0.7], "market"],
            ["Starship lands! Mars +100%! 🌍", () => ["Mars Contracts", 2.0], "market"],
            ["Woke bots rage. Rep -15%! 😡", () => -15, "rep"]
        ];

        const tweets = [
            ["MOON! 🌕", 0.6, 2.5],
            ["420 🔥", 0.5, 3.0],
            ["Tesla rules 🚗", 0.7, 1.8],
            ["Flame on 🔥", 0.5, 2.0]
        ];

        function getPrices() {
            let prices = { ...basePrices };
            for (let item in prices) {
                let fluctuation = Math.random() * (1.3 - 0.7) + 0.7;
                if (location === "Fremont" && item === "Tesla Stock") fluctuation *= 0.9;
                else if (location === "Cape Canaveral" && item === "Mars Contracts") fluctuation *= 0.85;
                else if (location === "Twitter HQ" && item === "Dogecoin") fluctuation *= Math.random() * (1.5 - 0.5) + 0.5;
                prices[item] *= fluctuation;
            }
            return prices;
        }

        function updateDisplay(prices) {
            let inv = Object.entries(inventory).filter(([_, v]) => v > 0).map(([k, v]) => `${k}:${v}`).join(", ") || "None";
            document.getElementById("stats").innerHTML = `Day ${day} | ${locations[location]}<br>💰 $${cash.toLocaleString()} | 💸 $${debt.toLocaleString()} | ⭐ ${reputation}% | 🎒 ${inv}`;
            document.getElementById("market").innerHTML = "Market: " + Object.entries(prices).map(([k, v]) => `${k.slice(0, 4)}:$${v.toFixed(2)}`).join(" | ");
        }

        function logEvent(message) {
            let log = document.getElementById("event-log");
            log.innerHTML += message + "<br>";
            log.scrollTop = log.scrollHeight;
        }

        function buySell(action) {
            let prices = getPrices();
            let item = prompt(`${action.capitalize()} what? (e.g., Tesla Stock)`);
            if (!prices[item]) return logEvent("Huh? Try a real item!");
            let qty = parseInt(prompt(`How many ${item}?`));
            if (isNaN(qty) || qty <= 0) return logEvent("Numbers only, no negatives!");
            
            if (action === "buy") {
                let cost = prices[item] * qty;
                if (cost > cash) logEvent("Too broke!");
                else {
                    cash -= cost;
                    inventory[item] += qty;
                    logEvent(`Bought ${qty} ${item} for $${cost.toLocaleString()}!`);
                }
            } else {
                if (inventory[item] < qty) logEvent("Don’t own enough!");
                else {
                    let revenue = prices[item] * qty;
                    cash += revenue;
                    inventory[item] -= qty;
                    logEvent(`Sold ${qty} ${item} for $${revenue.toLocaleString()}!`);
                }
            }
            updateDisplay(prices);
        }

        function tweet() {
            let prices = getPrices();
            let [tweet, chance, multiplier] = tweets[Math.floor(Math.random() * tweets.length)];
            logEvent(`Tweet: '${tweet}'`);
            if (Math.random() < chance) {
                let item = Object.keys(basePrices)[Math.floor(Math.random() * Object.keys(basePrices).length)];
                tweetEffect = { item, multiplier };
                logEvent(`${item} pumps ${Math.round((multiplier - 1) * 100)}%!`);
            } else {
                reputation -= Math.floor(Math.random() * 11) + 10;
                logEvent(`Flop! Rep -${reputation > 0 ? 10 : 20}%`);
                if (Math.random() < 0.3) {
                    cash = Math.max(0, cash - 1000000);
                    logEvent("SEC fines $1M!");
                }
            }
            updateDisplay(prices);
        }

        function travel() {
            let newLoc = prompt(`Go where? ${Object.keys(locations).join(", ")}`);
            if (!locations[newLoc] || newLoc === location) return logEvent("Bad spot or already there!");
            if (cash < 50000) return logEvent("Need $50K to jet!");
            cash -= 50000;
            location = newLoc;
            logEvent(`Moved to ${locations[location]} for $50K!`);
            updateDisplay(getPrices());
        }

        function loan() {
            let amount = parseInt(prompt("Loan how much?"));
            if (isNaN(amount) || amount <= 0) return logEvent("Numbers, no tiny loans!");
            cash += amount;
            debt += amount;
            logEvent(`Loaned $${amount.toLocaleString()}! Debt: $${debt.toLocaleString()}`);
            updateDisplay(getPrices());
        }

        function randomEvent(prices) {
            let [event, effect, type] = events[Math.floor(Math.random() * events.length)];
            logEvent(event);
            if (type === "cash") {
                cash = Math.max(0, cash + effect());
            } else if (type === "market") {
                let [item, multiplier] = effect();
                prices[item] *= multiplier;
            } else if (type === "rep") {
                reputation = Math.max(0, Math.min(100, reputation + effect()));
            } else if (type === "mixed") {
                let [[item, multiplier], repChange] = effect();
                prices[item] *= multiplier;
                reputation = Math.max(0, Math.min(100, reputation + repChange));
            }
            updateDisplay(prices);
        }

        function nextDay() {
            let prices = getPrices();
            if (tweetEffect) {
                prices[tweetEffect.item] *= tweetEffect.multiplier;
                tweetEffect = null;
            }
            randomEvent(prices);
            debt = Math.floor(debt * 1.15);
            day++;
            if (day > maxDays || reputation <= 0 || cash < 0) {
                endGame(prices);
            } else {
                updateDisplay(prices);
            }
        }

        function endGame(prices) {
            let netWorth = cash + Object.entries(inventory).reduce((sum, [item, qty]) => sum + prices[item] * qty, 0) - debt;
            let result = `Game Over: Day ${day-1}\nNet Worth: $${netWorth.toLocaleString()}\n`;
            if (netWorth >= 100000000000) result += "HUSTLE KING! Mars is yours! 👑";
            else if (reputation <= 0) result += "CANCELED! Meme grave! 💀";
            else result += "Broke or bust! 📉";
            logEvent(result);
            document.querySelectorAll("button").forEach(btn => btn.disabled = true);
        }

        // Helper to capitalize strings
        String.prototype.capitalize = function() {
            return this.charAt(0).toUpperCase() + this.slice(1);
        };

        // Initial render
        updateDisplay(getPrices());
    </script>
</body>
</html>
